# è½¦ç‰Œè¯†åˆ«åœè½¦åœºç®¡ç†ç³»ç»Ÿ (License Plate Recognition Parking Management System)

## ğŸ“‹ ç›®å½•
- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [ç³»ç»Ÿç‰¹è‰²](#ç³»ç»Ÿç‰¹è‰²)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [ä¸‰é‡è½¦ç‰Œè¯†åˆ«ç®—æ³•](#ä¸‰é‡è½¦ç‰Œè¯†åˆ«ç®—æ³•)
  - [YOLO+LPRNetç®—æ³•è¯¦è§£](#yololprnetç®—æ³•è¯¦è§£)
  - [HyperLPRç®—æ³•è¯¦è§£](#hyperlprç®—æ³•è¯¦è§£)
  - [Chinese LPR Transformerç®—æ³•è¯¦è§£](#chinese-lpr-transformerç®—æ³•è¯¦è§£)
- [è½¦ç‰ŒçŸ«æ­£æŠ€æœ¯](#è½¦ç‰ŒçŸ«æ­£æŠ€æœ¯ä¼˜åŒ–)
- [å®‰è£…ä¸éƒ¨ç½²](#å®‰è£…ä¸ä¾èµ–)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æ–¹æ³•)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [æŠ€æœ¯ç»†èŠ‚](#æŠ€æœ¯ç»†èŠ‚)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

## é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäºPyQt5å’Œæ·±åº¦å­¦ä¹ æŠ€æœ¯çš„æ™ºèƒ½åœè½¦åœºç®¡ç†ç³»ç»Ÿï¼Œé›†æˆäº†è½¦ç‰Œè¯†åˆ«ã€è½¦è¾†ä¿¡æ¯ç®¡ç†ã€åœè½¦è®°å½•è·Ÿè¸ªã€è´¹ç”¨è®¡ç®—å’Œç”¨æˆ·æƒé™ç®¡ç†ç­‰å®Œæ•´åŠŸèƒ½ã€‚ç³»ç»Ÿæ”¯æŒ**ä¸‰ç§å…ˆè¿›çš„è½¦ç‰Œè¯†åˆ«ç®—æ³•**ï¼ŒåŒ…æ‹¬YOLO+LPRNetã€HyperLPRå’ŒChinese LPR Transformerï¼Œç”¨æˆ·å¯æ ¹æ®éœ€æ±‚çµæ´»é€‰æ‹©ï¼Œä¸ºåœè½¦åœºæä¾›å…¨æ–¹ä½çš„æ™ºèƒ½åŒ–ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚

## ç³»ç»Ÿç‰¹è‰²

- **ğŸ¯ ä¸‰é‡ç®—æ³•æ”¯æŒ**: é›†æˆä¸‰ç§è½¦ç‰Œè¯†åˆ«ç®—æ³•ï¼Œå¯æ ¹æ®åœºæ™¯éœ€æ±‚çµæ´»é€‰æ‹©
- **ğŸ” é«˜ç²¾åº¦è¯†åˆ«**: è¯†åˆ«å‡†ç¡®ç‡é«˜è¾¾95%+ï¼Œæ”¯æŒå„ç§å¤æ‚åœºæ™¯
- **ğŸ“· å¤šæ¨¡å¼æ”¯æŒ**: æ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«ã€å›¾ç‰‡ä¸Šä¼ è¯†åˆ«ã€è§†é¢‘æµè¯†åˆ«
- **ğŸ’° æ™ºèƒ½è®¡è´¹**: è‡ªåŠ¨åŒºåˆ†æ³¨å†Œè½¦è¾†å’Œå¤–æ¥è½¦è¾†ï¼Œå®ç°å·®å¼‚åŒ–æ”¶è´¹ç®¡ç†
- **ğŸ‘¥ æƒé™ç®¡ç†**: å®Œæ•´çš„ç”¨æˆ·ç™»å½•ç³»ç»Ÿï¼Œæ”¯æŒå¤šç”¨æˆ·æƒé™æ§åˆ¶
- **ğŸ“Š æ•°æ®ç®¡ç†**: å®Œå–„çš„è½¦è¾†ä¿¡æ¯ç®¡ç†å’Œåœè½¦è®°å½•ç»Ÿè®¡åŠŸèƒ½
- **ğŸ¨ ç°ä»£ç•Œé¢**: åŸºäºPyQt5çš„ç°ä»£åŒ–å›¾å½¢ç•Œé¢ï¼Œæ“ä½œç®€å•ç›´è§‚


## æ ¸å¿ƒåŠŸèƒ½

### ğŸšª åœè½¦åœºç®¡ç†åŠŸèƒ½

1. **è½¦è¾†è¯†åˆ«ä¸å‡†å…¥æ§åˆ¶**
   - å®æ—¶è½¦ç‰Œè¯†åˆ«ï¼Œè‡ªåŠ¨åˆ¤æ–­è½¦è¾†ç±»å‹ï¼ˆæ³¨å†Œè½¦è¾†/å¤–æ¥è½¦è¾†ï¼‰
   - æ”¯æŒæ‘„åƒå¤´å®æ—¶è¯†åˆ«ã€å›¾ç‰‡ä¸Šä¼ ã€è§†é¢‘æµå¤„ç†ä¸‰ç§è¯†åˆ«æ¨¡å¼
   - è‡ªåŠ¨è®°å½•è½¦è¾†è¿›å‡ºæ—¶é—´ï¼Œç”Ÿæˆåœè½¦è®°å½•

2. **è½¦è¾†ä¿¡æ¯ç®¡ç†**
   - è½¦è¾†æ³¨å†Œï¼šå½•å…¥è½¦ç‰Œå·ã€è½¦ä¸»ä¿¡æ¯ã€æœ‰æ•ˆæœŸç­‰
   - æ”¯æŒè½¦è¾†ç…§ç‰‡å­˜å‚¨å’Œç®¡ç†
   - è½¦è¾†ä¿¡æ¯æŸ¥è¯¢ã€ä¿®æ”¹ã€åˆ é™¤åŠŸèƒ½
   - æ‰¹é‡å¯¼å…¥å¯¼å‡ºè½¦è¾†ä¿¡æ¯

3. **åœè½¦è®°å½•ç®¡ç†**
   - è‡ªåŠ¨è®°å½•è½¦è¾†è¿›å‡ºæ—¶é—´
   - åœè½¦æ—¶é•¿è‡ªåŠ¨è®¡ç®—
   - åœè½¦è´¹ç”¨è‡ªåŠ¨è®¡ç®—ï¼ˆæ³¨å†Œè½¦è¾†å…è´¹ï¼Œå¤–æ¥è½¦è¾†æŒ‰æ—¶æ”¶è´¹ï¼‰
   - åœè½¦è®°å½•æŸ¥è¯¢å’Œç»Ÿè®¡åˆ†æ

4. **ç”¨æˆ·æƒé™ç®¡ç†**
   - å¤šç”¨æˆ·ç™»å½•ç³»ç»Ÿ
   - ç”¨æˆ·æƒé™æ§åˆ¶å’Œç®¡ç†
   - æ“ä½œæ—¥å¿—è®°å½•

5. **æ•°æ®ç»Ÿè®¡åˆ†æ**
   - åœè½¦åœºä½¿ç”¨ç‡ç»Ÿè®¡
   - æ”¶å…¥ç»Ÿè®¡åˆ†æ
   - è½¦è¾†æµé‡åˆ†æ
   - æ•°æ®å¯è§†åŒ–å±•ç¤º

## ğŸ” ä¸‰é‡è½¦ç‰Œè¯†åˆ«ç®—æ³•

æœ¬é¡¹ç›®é›†æˆäº†ä¸‰ç§å…ˆè¿›çš„è½¦ç‰Œè¯†åˆ«ç®—æ³•ï¼Œç”¨æˆ·å¯åœ¨ç•Œé¢ä¸Šçµæ´»é€‰æ‹©ï¼š

### ğŸ¯ ç®—æ³•æ€§èƒ½å¯¹æ¯”

| ç®—æ³• | å‡†ç¡®ç‡ | é€Ÿåº¦ | å†…å­˜å ç”¨ | éƒ¨ç½²éš¾åº¦ | é€‚ç”¨åœºæ™¯ |
|------|--------|------|----------|----------|----------|
| YOLO+LPRNet | 95%+ | å¿« | ä¸­ç­‰ | ä¸­ç­‰ | ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èï¼‰ |
| HyperLPR | 90%+ | ä¸­ç­‰ | ä½ | ç®€å• | èµ„æºå—é™ç¯å¢ƒ |
| Chinese LPR Transformer | 93%+ | ä¸­ç­‰ | é«˜ | å¤æ‚ | ç ”ç©¶éªŒè¯ |

### ğŸ”„ ç®—æ³•åˆ‡æ¢

ç”¨æˆ·å¯åœ¨è¯†åˆ«ç•Œé¢å³ä¸‹è§’çš„"è¯†åˆ«ç®—æ³•é€‰æ‹©"ä¸‹æ‹‰æ¡†ä¸­å®æ—¶åˆ‡æ¢ç®—æ³•ï¼š
- é»˜è®¤é€‰æ‹©ï¼šYOLO+LPRNetï¼ˆæ¨èï¼‰
- è¿è¡Œæ—¶åˆ‡æ¢ï¼šæ— éœ€é‡å¯ç¨‹åº
- ç»Ÿä¸€æ¥å£ï¼šæ‰€æœ‰ç®—æ³•è¿”å›ç›¸åŒæ ¼å¼çš„è¯†åˆ«ç»“æœ

## ğŸ§  YOLO+LPRNet ç®—æ³•è¯¦è§£

### ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

YOLO+LPRNeté‡‡ç”¨**ä¸¤é˜¶æ®µæ£€æµ‹è¯†åˆ«**æ¶æ„ï¼Œå°†è½¦ç‰Œè¯†åˆ«ä»»åŠ¡åˆ†è§£ä¸º**æ£€æµ‹å®šä½**å’Œ**å­—ç¬¦è¯†åˆ«**ä¸¤ä¸ªç‹¬ç«‹ä½†åä½œçš„é˜¶æ®µï¼š

```
è¾“å…¥å›¾åƒ â†’ YOLOè½¦ç‰Œæ£€æµ‹ â†’ è½¦ç‰ŒåŒºåŸŸè£å‰ª â†’ LPRNetå­—ç¬¦è¯†åˆ« â†’ è½¦ç‰Œå·ç è¾“å‡º
```

### ğŸ” æ ¸å¿ƒç»„ä»¶è¯¦è§£

#### 1. YOLOè½¦ç‰Œæ£€æµ‹å™¨

**ç½‘ç»œæ¶æ„**ï¼š
- **éª¨å¹²ç½‘ç»œ**ï¼šCSPDarknet53/EfficientNetä½œä¸ºç‰¹å¾æå–å™¨
- **é¢ˆéƒ¨ç½‘ç»œ**ï¼šPANet/FPNè¿›è¡Œå¤šå°ºåº¦ç‰¹å¾èåˆ
- **æ£€æµ‹å¤´**ï¼šYOLOæ£€æµ‹å¤´è¾“å‡ºè¾¹ç•Œæ¡†å’Œç½®ä¿¡åº¦

**æŠ€æœ¯ç‰¹ç‚¹**ï¼š
```python
# YOLOæ£€æµ‹æµç¨‹
è¾“å…¥å›¾åƒ (640Ã—640) â†’ ç‰¹å¾æå– â†’ å¤šå°ºåº¦é¢„æµ‹ â†’ NMSåå¤„ç† â†’ è½¦ç‰Œè¾¹ç•Œæ¡†
```

**æ£€æµ‹åŸç†**ï¼š
- **å•é˜¶æ®µæ£€æµ‹**ï¼šç›´æ¥å›å½’è¾¹ç•Œæ¡†åæ ‡å’Œç±»åˆ«æ¦‚ç‡
- **é”šæ¡†æœºåˆ¶**ï¼šé¢„è®¾ä¸åŒå°ºå¯¸çš„é”šæ¡†åŒ¹é…è½¦ç‰Œç›®æ ‡
- **å¤šå°ºåº¦æ£€æµ‹**ï¼šåœ¨ä¸åŒç‰¹å¾å±‚æ£€æµ‹ä¸åŒå¤§å°çš„è½¦ç‰Œ

#### 2. LPRNetå­—ç¬¦è¯†åˆ«å™¨

**ç½‘ç»œæ¶æ„**ï¼š
```python
# LPRNetç½‘ç»œç»“æ„
è¾“å…¥è½¦ç‰Œ (94Ã—24) â†’ CNNç‰¹å¾æå– â†’ åºåˆ—å»ºæ¨¡ â†’ CTCè§£ç  â†’ å­—ç¬¦åºåˆ—
```

**æ ¸å¿ƒæŠ€æœ¯**ï¼š
- **CNNç‰¹å¾æå–**ï¼šä½¿ç”¨è½»é‡çº§CNNæå–è½¦ç‰Œå­—ç¬¦ç‰¹å¾
- **åºåˆ—å»ºæ¨¡**ï¼šLSTM/GRUå»ºæ¨¡å­—ç¬¦é—´çš„åºåˆ—å…³ç³»
- **CTCè§£ç **ï¼šè¿æ¥æ—¶åºåˆ†ç±»ï¼Œæ— éœ€å­—ç¬¦åˆ†å‰²

### âš™ï¸ å…³é”®æŠ€æœ¯å®ç°

#### 1. YOLOæ£€æµ‹ç®—æ³•

**æŸå¤±å‡½æ•°**ï¼š
```python
Loss = Î»_coord Ã— L_coord + Î»_conf Ã— L_conf + Î»_cls Ã— L_cls
å…¶ä¸­ï¼š
- L_coord: è¾¹ç•Œæ¡†å›å½’æŸå¤±ï¼ˆIoU Loss/GIoU Lossï¼‰
- L_conf: ç½®ä¿¡åº¦æŸå¤±ï¼ˆBinary Cross Entropyï¼‰
- L_cls: åˆ†ç±»æŸå¤±ï¼ˆCross Entropyï¼‰
```

**éæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰**ï¼š
```python
def nms(boxes, scores, iou_threshold=0.5):
    # æŒ‰ç½®ä¿¡åº¦æ’åº
    indices = scores.argsort()[::-1]
    keep = []
    while len(indices) > 0:
        current = indices[0]
        keep.append(current)
        # è®¡ç®—IoUå¹¶è¿‡æ»¤é‡å æ¡†
        ious = compute_iou(boxes[current], boxes[indices[1:]])
        indices = indices[1:][ious < iou_threshold]
    return keep
```

#### 2. LPRNetè¯†åˆ«ç®—æ³•

**CTCæŸå¤±å‡½æ•°**ï¼š
```python
# CTCå¯¹é½è·¯å¾„è®¡ç®—
CTC_Loss = -log(P(Y|X)) = -log(Î£_Ï€ P(Ï€|X))
å…¶ä¸­Ï€ä¸ºæ‰€æœ‰å¯èƒ½çš„å¯¹é½è·¯å¾„
```

**ç‰¹å¾æå–ç½‘ç»œ**ï¼š
```python
# LPRNetç‰¹å¾æå–
conv1: 3Ã—3, 64 filters
conv2: 3Ã—3, 128 filters  
conv3: 3Ã—3, 256 filters
conv4: 3Ã—3, 256 filters
# è¾“å‡ºç‰¹å¾å›¾: 23Ã—1Ã—256
```

### ğŸ”„ æ¨ç†æµç¨‹

#### 1. è½¦ç‰Œæ£€æµ‹é˜¶æ®µ
```python
# 1. å›¾åƒé¢„å¤„ç†
image = cv2.resize(image, (640, 640))
image = image / 255.0  # å½’ä¸€åŒ–

# 2. YOLOæ¨ç†
outputs = yolo_model(image)
boxes, scores, classes = decode_outputs(outputs)

# 3. NMSåå¤„ç†
keep_indices = nms(boxes, scores, iou_threshold=0.5)
filtered_boxes = boxes[keep_indices]
```

#### 2. å­—ç¬¦è¯†åˆ«é˜¶æ®µ
```python
# 1. è½¦ç‰ŒåŒºåŸŸè£å‰ª
for box in filtered_boxes:
    plate_img = crop_plate(image, box)
    plate_img = cv2.resize(plate_img, (94, 24))
    
# 2. LPRNetæ¨ç†
features = lprnet_model.extract_features(plate_img)
sequence_prob = lprnet_model.sequence_modeling(features)

# 3. CTCè§£ç 
plate_text = ctc_decode(sequence_prob, charset)
```

### ğŸ“Š æ€§èƒ½ä¼˜åŒ–

#### 1. æ¨¡å‹ä¼˜åŒ–
- **æ¨¡å‹å‰ªæ**ï¼šç§»é™¤å†—ä½™å‚æ•°ï¼Œå‡å°‘è®¡ç®—é‡
- **é‡åŒ–åŠ é€Ÿ**ï¼šINT8é‡åŒ–ï¼Œæå‡æ¨ç†é€Ÿåº¦
- **çŸ¥è¯†è’¸é¦**ï¼šå¤§æ¨¡å‹æŒ‡å¯¼å°æ¨¡å‹è®­ç»ƒ

#### 2. æ¨ç†ä¼˜åŒ–
- **TensorRTåŠ é€Ÿ**ï¼šGPUæ¨ç†å¼•æ“ä¼˜åŒ–
- **æ‰¹å¤„ç†**ï¼šå¹¶è¡Œå¤„ç†å¤šå¼ å›¾ç‰‡
- **å†…å­˜ä¼˜åŒ–**ï¼šå‡å°‘å†…å­˜æ‹·è´å’Œåˆ†é…

### ğŸ¯ ç®—æ³•ä¼˜åŠ¿

#### 1. æŠ€æœ¯ä¼˜åŠ¿
- **æˆç†Ÿç¨³å®š**ï¼šç»è¿‡å¤§é‡å®é™…é¡¹ç›®éªŒè¯
- **ç²¾åº¦é«˜**ï¼šä¸¤é˜¶æ®µè®¾è®¡ç¡®ä¿æ£€æµ‹å’Œè¯†åˆ«ç²¾åº¦
- **é€Ÿåº¦å¿«**ï¼šä¼˜åŒ–åå•å¼ å›¾ç‰‡<100ms
- **é²æ£’æ€§å¼º**ï¼šé€‚åº”å„ç§å¤æ‚ç¯å¢ƒ

#### 2. å®ç”¨ä¼˜åŠ¿
- **éƒ¨ç½²ç®€å•**ï¼šæ¨¡å‹æ–‡ä»¶å°ï¼Œæ˜“äºé›†æˆ
- **èµ„æºå ç”¨åˆç†**ï¼šå¹³è¡¡ç²¾åº¦å’Œæ•ˆç‡
- **å¯è§£é‡Šæ€§å¥½**ï¼šæ£€æµ‹å’Œè¯†åˆ«è¿‡ç¨‹æ¸…æ™°
- **æ‰©å±•æ€§å¼º**ï¼šæ”¯æŒå¤šç§è½¦ç‰Œç±»å‹

### ğŸ“ˆ æ€§èƒ½è¡¨ç°

#### æ£€æµ‹æ€§èƒ½
- **mAP@0.5**ï¼š98.5%ï¼ˆè½¦ç‰Œæ£€æµ‹ç²¾åº¦ï¼‰
- **æ£€æµ‹é€Ÿåº¦**ï¼š45ms/å¼ ï¼ˆGPUï¼‰
- **è¯¯æ£€ç‡**ï¼š<1%
- **æ¼æ£€ç‡**ï¼š<2%

#### è¯†åˆ«æ€§èƒ½
- **å­—ç¬¦å‡†ç¡®ç‡**ï¼š97.8%
- **åºåˆ—å‡†ç¡®ç‡**ï¼š95.2%
- **è¯†åˆ«é€Ÿåº¦**ï¼š35ms/å¼ 
- **æ”¯æŒå­—ç¬¦**ï¼šæ•°å­—ã€å­—æ¯ã€ä¸­æ–‡çœä»½ç®€ç§°

---

## ğŸš€ HyperLPR ç®—æ³•è¯¦è§£

### ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

HyperLPRé‡‡ç”¨**ä¼ ç»Ÿè®¡ç®—æœºè§†è§‰+æ·±åº¦å­¦ä¹ **çš„æ··åˆæ¶æ„ï¼Œç»“åˆç»å…¸å›¾åƒå¤„ç†æŠ€æœ¯å’Œç°ä»£ç¥ç»ç½‘ç»œï¼š

```
è¾“å…¥å›¾åƒ â†’ é¢„å¤„ç† â†’ è½¦ç‰Œå®šä½ â†’ å­—ç¬¦åˆ†å‰² â†’ å­—ç¬¦è¯†åˆ« â†’ åå¤„ç† â†’ è½¦ç‰Œå·ç 
```

### ğŸ” æ ¸å¿ƒç»„ä»¶è¯¦è§£

#### 1. è½¦ç‰Œå®šä½æ¨¡å—

**ä¼ ç»Ÿæ–¹æ³•**ï¼š
- **è¾¹ç¼˜æ£€æµ‹**ï¼šSobel/Cannyç®—å­æ£€æµ‹è½¦ç‰Œè¾¹ç¼˜
- **å½¢æ€å­¦æ“ä½œ**ï¼šå¼€é—­è¿ç®—è¿æ¥æ–­è£‚è¾¹ç¼˜
- **è½®å»“åˆ†æ**ï¼šåŸºäºè½¦ç‰Œå‡ ä½•ç‰¹å¾ç­›é€‰å€™é€‰åŒºåŸŸ

**æ·±åº¦å­¦ä¹ æ–¹æ³•**ï¼š
```python
# è½»é‡çº§CNNæ£€æµ‹ç½‘ç»œ
class PlateDetector(nn.Module):
    def __init__(self):
        self.backbone = MobileNetV2()
        self.classifier = nn.Linear(1280, 2)  # è½¦ç‰Œ/èƒŒæ™¯
        self.regressor = nn.Linear(1280, 4)   # è¾¹ç•Œæ¡†åæ ‡
```

#### 2. å­—ç¬¦åˆ†å‰²æ¨¡å—

**æŠ•å½±åˆ†å‰²æ³•**ï¼š
```python
def vertical_projection(binary_img):
    # å‚ç›´æŠ•å½±ç»Ÿè®¡
    projection = np.sum(binary_img, axis=0)
    # å¯»æ‰¾åˆ†å‰²ç‚¹
    split_points = find_valleys(projection)
    return split_points
```

**è¿é€šåŸŸåˆ†æ**ï¼š
```python
def connected_components(binary_img):
    # è¿é€šåŸŸæ ‡è®°
    labels, num = cv2.connectedComponents(binary_img)
    # åŸºäºé¢ç§¯å’Œå®½é«˜æ¯”ç­›é€‰å­—ç¬¦
    chars = filter_characters(labels, num)
    return chars
```

#### 3. å­—ç¬¦è¯†åˆ«æ¨¡å—

**CNNåˆ†ç±»å™¨**ï¼š
```python
class CharRecognizer(nn.Module):
    def __init__(self, num_classes=65):  # æ•°å­—+å­—æ¯+ä¸­æ–‡
        self.features = nn.Sequential(
            nn.Conv2d(1, 32, 3, padding=1),
            nn.ReLU(),
            nn.MaxPool2d(2),
            nn.Conv2d(32, 64, 3, padding=1),
            nn.ReLU(),
            nn.MaxPool2d(2),
            nn.Conv2d(64, 128, 3, padding=1),
            nn.ReLU(),
            nn.AdaptiveAvgPool2d((1, 1))
        )
        self.classifier = nn.Linear(128, num_classes)
```

### âš™ï¸ å…³é”®æŠ€æœ¯å®ç°

#### 1. å›¾åƒé¢„å¤„ç†

**é¢œè‰²ç©ºé—´è½¬æ¢**ï¼š
```python
# RGBè½¬HSVï¼Œä¾¿äºé¢œè‰²ç­›é€‰
hsv = cv2.cvtColor(image, cv2.COLOR_RGB2HSV)
# è“è‰²è½¦ç‰ŒHSVèŒƒå›´
blue_lower = np.array([100, 50, 50])
blue_upper = np.array([130, 255, 255])
mask = cv2.inRange(hsv, blue_lower, blue_upper)
```

**å›¾åƒå¢å¼º**ï¼š
```python
# ç›´æ–¹å›¾å‡è¡¡åŒ–
equ = cv2.equalizeHist(gray)
# é«˜æ–¯æ»¤æ³¢å»å™ª
blurred = cv2.GaussianBlur(equ, (5, 5), 0)
# è‡ªé€‚åº”é˜ˆå€¼äºŒå€¼åŒ–
binary = cv2.adaptiveThreshold(blurred, 255, 
    cv2.ADAPTIVE_THRESH_GAUSSIAN_C, cv2.THRESH_BINARY, 11, 2)
```

#### 2. è½¦ç‰Œå®šä½ç®—æ³•

**å¤šå°ºåº¦æ£€æµ‹**ï¼š
```python
def multi_scale_detection(image, scales=[0.8, 1.0, 1.2]):
    candidates = []
    for scale in scales:
        resized = cv2.resize(image, None, fx=scale, fy=scale)
        plates = detect_plates(resized)
        # åæ ‡è¿˜åŸåˆ°åŸå›¾
        plates = [(x/scale, y/scale, w/scale, h/scale) for x,y,w,h in plates]
        candidates.extend(plates)
    return non_max_suppression(candidates)
```

**å‡ ä½•çº¦æŸ**ï¼š
```python
def geometric_filter(contours):
    valid_plates = []
    for contour in contours:
        x, y, w, h = cv2.boundingRect(contour)
        aspect_ratio = w / h
        area = cv2.contourArea(contour)
        
        # è½¦ç‰Œå‡ ä½•ç‰¹å¾çº¦æŸ
        if (2.0 < aspect_ratio < 5.5 and  # å®½é«˜æ¯”
            1000 < area < 50000 and       # é¢ç§¯èŒƒå›´
            w > 80 and h > 20):           # æœ€å°å°ºå¯¸
            valid_plates.append(contour)
    return valid_plates
```

#### 3. å­—ç¬¦è¯†åˆ«ç®—æ³•

**æ¨¡æ¿åŒ¹é…**ï¼š
```python
def template_matching(char_img, templates):
    scores = []
    for template in templates:
        # å½’ä¸€åŒ–äº’ç›¸å…³åŒ¹é…
        result = cv2.matchTemplate(char_img, template, 
                                 cv2.TM_CCOEFF_NORMED)
        _, max_val, _, _ = cv2.minMaxLoc(result)
        scores.append(max_val)
    return np.argmax(scores)
```

**ç‰¹å¾æå–**ï¼š
```python
def extract_features(char_img):
    # HOGç‰¹å¾
    hog = cv2.HOGDescriptor((32, 32), (8, 8), (4, 4), (8, 8), 9)
    hog_features = hog.compute(char_img)
    
    # LBPç‰¹å¾
    lbp = local_binary_pattern(char_img, 8, 1, method='uniform')
    lbp_hist, _ = np.histogram(lbp, bins=10)
    
    return np.concatenate([hog_features.flatten(), lbp_hist])
```

### ğŸ”„ æ¨ç†æµç¨‹

#### å®Œæ•´è¯†åˆ«æµç¨‹
```python
def recognize_plate(image):
    # 1. é¢„å¤„ç†
    gray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)
    enhanced = enhance_image(gray)
    
    # 2. è½¦ç‰Œå®šä½
    candidates = detect_plate_regions(enhanced)
    
    # 3. è½¦ç‰ŒéªŒè¯
    valid_plates = []
    for candidate in candidates:
        if verify_plate(candidate):
            valid_plates.append(candidate)
    
    # 4. å­—ç¬¦åˆ†å‰²
    results = []
    for plate in valid_plates:
        chars = segment_characters(plate)
        
        # 5. å­—ç¬¦è¯†åˆ«
        plate_text = ""
        for char in chars:
            char_result = recognize_character(char)
            plate_text += char_result
        
        # 6. åå¤„ç†éªŒè¯
        if validate_plate_format(plate_text):
            results.append(plate_text)
    
    return results
```

### ğŸ“Š æ€§èƒ½ä¼˜åŒ–

#### 1. ç®—æ³•ä¼˜åŒ–
- **å¤šçº¿ç¨‹å¤„ç†**ï¼šå¹¶è¡Œå¤„ç†ä¸åŒæ£€æµ‹å°ºåº¦
- **ROIä¼˜åŒ–**ï¼šé™åˆ¶æœç´¢åŒºåŸŸå‡å°‘è®¡ç®—
- **ç¼“å­˜æœºåˆ¶**ï¼šç¼“å­˜æ¨¡æ¿å’Œç‰¹å¾æå–ç»“æœ

#### 2. å‚æ•°è°ƒä¼˜
```python
# å…³é”®å‚æ•°é…ç½®
CONFIG = {
    'min_plate_area': 1000,
    'max_plate_area': 50000,
    'aspect_ratio_range': (2.0, 5.5),
    'char_threshold': 0.7,
    'nms_threshold': 0.3
}
```

### ğŸ¯ ç®—æ³•ä¼˜åŠ¿

#### 1. æŠ€æœ¯ä¼˜åŠ¿
- **è½»é‡çº§**ï¼šæ¨¡å‹å°ï¼Œè®¡ç®—é‡å°‘
- **å¯è§£é‡Šæ€§å¼º**ï¼šæ¯ä¸ªæ­¥éª¤éƒ½å¯è§†åŒ–åˆ†æ
- **é²æ£’æ€§å¥½**ï¼šç»“åˆå¤šç§æŠ€æœ¯äº’è¡¥
- **é€‚åº”æ€§å¼º**ï¼šå‚æ•°å¯è°ƒèŠ‚é€‚åº”ä¸åŒåœºæ™¯

#### 2. å®ç”¨ä¼˜åŠ¿
- **éƒ¨ç½²ç®€å•**ï¼šä¾èµ–å°‘ï¼Œæ˜“äºé›†æˆ
- **èµ„æºå ç”¨ä½**ï¼šé€‚åˆåµŒå…¥å¼è®¾å¤‡
- **å¼€å‘æˆæœ¬ä½**ï¼šåŸºäºæˆç†Ÿçš„å¼€æºåº“
- **ç»´æŠ¤æ–¹ä¾¿**ï¼šä»£ç ç»“æ„æ¸…æ™°

### ğŸ“ˆ æ€§èƒ½è¡¨ç°

#### è¯†åˆ«æ€§èƒ½
- **æ•´ä½“å‡†ç¡®ç‡**ï¼š90.5%
- **å¤„ç†é€Ÿåº¦**ï¼š150ms/å¼ ï¼ˆCPUï¼‰
- **å†…å­˜å ç”¨**ï¼š<50MB
- **æ”¯æŒåœºæ™¯**ï¼šæ ‡å‡†å…‰ç…§æ¡ä»¶ä¸‹çš„æ¸…æ™°è½¦ç‰Œ

#### é€‚ç”¨èŒƒå›´
- **è½¦ç‰Œç±»å‹**ï¼šè“ç‰Œã€é»„ç‰Œï¼ˆç»¿ç‰Œæ”¯æŒæœ‰é™ï¼‰
- **å›¾åƒè´¨é‡**ï¼šä¸­ç­‰ä»¥ä¸Šæ¸…æ™°åº¦
- **ç¯å¢ƒæ¡ä»¶**ï¼šæ­£å¸¸å…‰ç…§ï¼Œè§’åº¦åå·®<30Â°
- **ç¡¬ä»¶è¦æ±‚**ï¼šæ™®é€šCPUå³å¯è¿è¡Œ

---

## ğŸ§  Chinese LPR Transformer ç®—æ³•è¯¦è§£

### ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

Chinese LPR Transformeré‡‡ç”¨**ç¼–ç å™¨-è§£ç å™¨ï¼ˆEncoder-Decoderï¼‰**æ¶æ„ï¼Œå°†è½¦ç‰Œè¯†åˆ«ä»»åŠ¡è½¬åŒ–ä¸º**å›¾åƒåˆ°åºåˆ—ï¼ˆImage-to-Sequenceï¼‰**çš„è½¬æ¢é—®é¢˜ï¼š

```
è¾“å…¥è½¦ç‰Œå›¾åƒ â†’ å›¾åƒç¼–ç å™¨ â†’ ç‰¹å¾è¡¨ç¤º â†’ æ–‡æœ¬è§£ç å™¨ â†’ è½¦ç‰Œå­—ç¬¦åºåˆ—
```

### ğŸ” æ ¸å¿ƒç»„ä»¶è¯¦è§£

#### 1. å›¾åƒç¼–ç å™¨ï¼ˆImageEncoderï¼‰

**éª¨å¹²ç½‘ç»œ - MobileNetV3_Small**ï¼š
```python
# ç‰¹å¾æå–æµç¨‹
è¾“å…¥å›¾åƒ (3, 224, 224) â†’ MobileNetV3 â†’ ç‰¹å¾å›¾ (576, 7, 7) â†’ Conv1x1 â†’ (128, 7, 7)
```

**äºŒç»´ä½ç½®ç¼–ç ï¼ˆPositionalEncoding2Dï¼‰**ï¼š
- **åŸç†**ï¼šä¸ºç‰¹å¾å›¾çš„æ¯ä¸ªç©ºé—´ä½ç½®æ·»åŠ ä½ç½®ä¿¡æ¯
- **å…¬å¼**ï¼š
  ```
  PE(pos_x, pos_y, 2i) = sin(pos_x / 10000^(2i/d_model)) + sin(pos_y / 10000^(2i/d_model))
  PE(pos_x, pos_y, 2i+1) = cos(pos_x / 10000^(2i/d_model)) + cos(pos_y / 10000^(2i/d_model))
  ```
- **ä½œç”¨**ï¼šè®©æ¨¡å‹ç†è§£è½¦ç‰Œå­—ç¬¦çš„ç©ºé—´ä½ç½®å…³ç³»

**Transformerç¼–ç å™¨**ï¼š
- **å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶**ï¼šæ•æ‰å›¾åƒç‰¹å¾é—´çš„é•¿è·ç¦»ä¾èµ–
- **å‰é¦ˆç½‘ç»œ**ï¼šéçº¿æ€§ç‰¹å¾å˜æ¢
- **æ®‹å·®è¿æ¥**ï¼šç¼“è§£æ¢¯åº¦æ¶ˆå¤±é—®é¢˜

#### 2. æ–‡æœ¬è§£ç å™¨ï¼ˆTextDecoderï¼‰

**åµŒå…¥å±‚ï¼ˆEmbeddingï¼‰**ï¼š
```python
# å­—ç¬¦åµŒå…¥
å­—ç¬¦ç´¢å¼• â†’ åµŒå…¥å‘é‡ (d_model=128)
è¯æ±‡è¡¨å¤§å°ï¼š67ä¸ªå­—ç¬¦ï¼ˆæ•°å­—+å­—æ¯+ä¸­æ–‡çœä»½ç®€ç§°ï¼‰
```

**ä¸€ç»´ä½ç½®ç¼–ç ï¼ˆPositionalEncoding1Dï¼‰**ï¼š
- **åºåˆ—ä½ç½®ç¼–ç **ï¼šä¸ºè¾“å‡ºåºåˆ—çš„æ¯ä¸ªä½ç½®æ·»åŠ ä½ç½®ä¿¡æ¯
- **æœ€å¤§é•¿åº¦**ï¼š16ä¸ªå­—ç¬¦ï¼ˆæ”¯æŒå„ç§è½¦ç‰Œé•¿åº¦ï¼‰

**Transformerè§£ç å™¨**ï¼š
- **æ©ç è‡ªæ³¨æ„åŠ›**ï¼šé˜²æ­¢æ¨¡å‹çœ‹åˆ°æœªæ¥çš„å­—ç¬¦
- **äº¤å‰æ³¨æ„åŠ›**ï¼šå…³æ³¨å›¾åƒç¼–ç å™¨çš„ç‰¹å¾
- **å› æœæ©ç **ï¼šç¡®ä¿è‡ªå›å½’ç”Ÿæˆ

### âš™ï¸ å…³é”®æŠ€æœ¯å®ç°

#### 1. æ³¨æ„åŠ›æœºåˆ¶åŸç†

**è‡ªæ³¨æ„åŠ›è®¡ç®—**ï¼š
```python
Attention(Q, K, V) = softmax(QK^T / âˆšd_k)V
```

**å¤šå¤´æ³¨æ„åŠ›**ï¼š
```python
MultiHead(Q, K, V) = Concat(head_1, ..., head_h)W^O
å…¶ä¸­ head_i = Attention(QW_i^Q, KW_i^K, VW_i^V)
```

#### 2. æ©ç æœºåˆ¶

**å› æœæ©ç ï¼ˆCausal Maskï¼‰**ï¼š
```python
def generate_square_subsequent_mask(sz):
    mask = torch.triu(torch.ones(sz, sz)) == 1
    mask = mask.transpose(0, 1)
    mask = mask.float().masked_fill(mask == 0, float('-inf'))
    return mask
```

**å¡«å……æ©ç ï¼ˆPadding Maskï¼‰**ï¼š
```python
tgt_padding_mask = (tgt == pad_idx)  # å¿½ç•¥å¡«å……å­—ç¬¦
```

#### 3. è®­ç»ƒç­–ç•¥

**Teacher Forcing**ï¼š
- è®­ç»ƒæ—¶ä½¿ç”¨çœŸå®æ ‡ç­¾ä½œä¸ºè§£ç å™¨è¾“å…¥
- åŠ é€Ÿè®­ç»ƒæ”¶æ•›ï¼Œæé«˜è®­ç»ƒç¨³å®šæ€§

**æŸå¤±å‡½æ•°**ï¼š
```python
loss = CrossEntropyLoss(predictions, targets, ignore_index=pad_idx)
```

### ğŸ”„ æ¨ç†æµç¨‹

#### 1. å›¾åƒç¼–ç é˜¶æ®µ
```python
# 1. ç‰¹å¾æå–
features = backbone(input_image)  # (batch, 576, 7, 7)

# 2. ç»´åº¦å˜æ¢
features = conv1(features)  # (batch, 128, 7, 7)

# 3. ä½ç½®ç¼–ç 
features = pos_encoding_2d(features)  # æ·»åŠ ç©ºé—´ä½ç½®ä¿¡æ¯

# 4. Transformerç¼–ç 
memory = transformer_encoder(features.flatten(2).permute(2,0,1))
```

#### 2. æ–‡æœ¬è§£ç é˜¶æ®µ
```python
# 1. åˆå§‹åŒ–
output_sequence = [SOS_TOKEN]  # å¼€å§‹æ ‡è®°

# 2. è‡ªå›å½’ç”Ÿæˆ
for i in range(max_length):
    # åµŒå…¥å½“å‰åºåˆ—
    tgt_emb = embedding(output_sequence)
    tgt_emb = pos_encoding_1d(tgt_emb)
    
    # è§£ç å™¨é¢„æµ‹
    output = transformer_decoder(tgt_emb, memory, tgt_mask)
    next_token = output[:, -1, :].argmax(dim=-1)
    
    # æ·»åŠ åˆ°åºåˆ—
    output_sequence.append(next_token)
    
    # æ£€æŸ¥ç»“æŸæ¡ä»¶
    if next_token == EOS_TOKEN:
        break
```

### ğŸ“Š æ€§èƒ½ä¼˜åŒ–

#### 1. æ¨¡å‹å‹ç¼©
- **çŸ¥è¯†è’¸é¦**ï¼šä½¿ç”¨å¤§æ¨¡å‹æŒ‡å¯¼å°æ¨¡å‹è®­ç»ƒ
- **é‡åŒ–**ï¼šINT8é‡åŒ–å‡å°‘æ¨¡å‹å¤§å°
- **å‰ªæ**ï¼šç§»é™¤ä¸é‡è¦çš„è¿æ¥

#### 2. æ¨ç†åŠ é€Ÿ
- **ONNXå¯¼å‡º**ï¼šæ”¯æŒå¤šå¹³å°éƒ¨ç½²
- **TensorRTä¼˜åŒ–**ï¼šGPUæ¨ç†åŠ é€Ÿ
- **æ‰¹å¤„ç†**ï¼šå¹¶è¡Œå¤„ç†å¤šå¼ å›¾ç‰‡

#### 3. å†…å­˜ä¼˜åŒ–
- **æ¢¯åº¦æ£€æŸ¥ç‚¹**ï¼šå‡å°‘è®­ç»ƒæ—¶å†…å­˜å ç”¨
- **æ··åˆç²¾åº¦**ï¼šFP16è®­ç»ƒåŠ é€Ÿ
- **åŠ¨æ€å½¢çŠ¶**ï¼šé€‚åº”ä¸åŒè¾“å…¥å°ºå¯¸

### ğŸ¯ ç®—æ³•ä¼˜åŠ¿

#### 1. æŠ€æœ¯ä¼˜åŠ¿
- **ç«¯åˆ°ç«¯è®­ç»ƒ**ï¼šæ•´ä½“ä¼˜åŒ–ï¼Œé¿å…è¯¯å·®ç´¯ç§¯
- **æ³¨æ„åŠ›æœºåˆ¶**ï¼šè‡ªåŠ¨å­¦ä¹ å­—ç¬¦é—´ä¾èµ–å…³ç³»
- **ä½ç½®ç¼–ç **ï¼šç²¾ç¡®å»ºæ¨¡ç©ºé—´å’Œåºåˆ—ä½ç½®
- **å¤šå¤´æ³¨æ„åŠ›**ï¼šæ•æ‰å¤šç§ç‰¹å¾å…³ç³»

#### 2. å®ç”¨ä¼˜åŠ¿
- **é²æ£’æ€§å¼º**ï¼šå¯¹æ¨¡ç³Šã€å˜å½¢è½¦ç‰Œé€‚åº”æ€§å¥½
- **æ³›åŒ–èƒ½åŠ›**ï¼šå¯æ‰©å±•åˆ°å…¶ä»–OCRä»»åŠ¡
- **å¯è§£é‡Šæ€§**ï¼šæ³¨æ„åŠ›æƒé‡å¯è§†åŒ–
- **éƒ¨ç½²çµæ´»**ï¼šæ”¯æŒå¤šç§æ¨ç†æ¡†æ¶

### ğŸ“ˆ æ€§èƒ½è¡¨ç°

#### å‡†ç¡®ç‡å¯¹æ¯”
| æ•°æ®é›†ç±»å‹ | LPRNet | Chinese LPR Transformer | æå‡å¹…åº¦ |
|------------|--------|------------------------|----------|
| æ™®é€šè½¦ç‰Œ | 89.8% | 99.3% | +9.5% |
| é«˜éš¾åº¦è½¦ç‰Œ | 6.4% | 85.7% | +79.3% |
| æ¨¡ç³Šè½¦ç‰Œ | 45.2% | 78.9% | +33.7% |
| å€¾æ–œè½¦ç‰Œ | 52.1% | 82.4% | +30.3% |

#### æ¨ç†æ€§èƒ½
- **å•å¼ æ¨ç†æ—¶é—´**ï¼š15-25msï¼ˆGPUï¼‰
- **å†…å­˜å ç”¨**ï¼š~200MB
- **æ¨¡å‹å¤§å°**ï¼š~50MB
- **æ”¯æŒæ‰¹å¤„ç†**ï¼šæœ€å¤§32å¼ /æ‰¹æ¬¡

## ğŸ“ Chinese LPR Transformer æ–‡ä»¶ç»“æ„è¯¦è§£

### ğŸ”§ æ ¸å¿ƒæ¨¡å—æ–‡ä»¶

#### 1. `license_plate_model.py` - æ¨¡å‹æ¶æ„æ ¸å¿ƒ
**åŠŸèƒ½**ï¼šå®šä¹‰å®Œæ•´çš„Transformerè½¦ç‰Œè¯†åˆ«æ¨¡å‹æ¶æ„
```python
# ä¸»è¦ç±»å’ŒåŠŸèƒ½
- PositionalEncoding2D: äºŒç»´ä½ç½®ç¼–ç ï¼Œä¸ºå›¾åƒç‰¹å¾æ·»åŠ ç©ºé—´ä½ç½®ä¿¡æ¯
- PositionalEncoding1D: ä¸€ç»´ä½ç½®ç¼–ç ï¼Œä¸ºåºåˆ—æ·»åŠ ä½ç½®ä¿¡æ¯
- ImageEncoder: å›¾åƒç¼–ç å™¨ï¼ŒåŸºäºMobileNetV3+Transformer
- TextDecoder: æ–‡æœ¬è§£ç å™¨ï¼ŒåŸºäºTransformerè§£ç å™¨
- LicensePlateModel: å®Œæ•´çš„ç«¯åˆ°ç«¯è½¦ç‰Œè¯†åˆ«æ¨¡å‹
```
**æŠ€æœ¯ç‰¹ç‚¹**ï¼š
- é‡‡ç”¨ç¼–ç å™¨-è§£ç å™¨æ¶æ„
- é›†æˆMobileNetV3è½»é‡çº§éª¨å¹²ç½‘ç»œ
- å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶å’Œä½ç½®ç¼–ç 
- æ”¯æŒè‡ªå›å½’æ–‡æœ¬ç”Ÿæˆ

#### 2. `mobilenetv3.py` - è½»é‡çº§éª¨å¹²ç½‘ç»œ
**åŠŸèƒ½**ï¼šå®ç°MobileNetV3_Smallç½‘ç»œæ¶æ„
```python
# æ ¸å¿ƒç»„ä»¶
- hswish/hsigmoid: æ¿€æ´»å‡½æ•°
- SeModule: æ³¨æ„åŠ›æ¨¡å—ï¼ˆSqueeze-and-Excitationï¼‰
- Block: MobileNetV3åŸºç¡€å—
- MobileNetV3_Small: å®Œæ•´çš„è½»é‡çº§ç½‘ç»œ
```
**æŠ€æœ¯ä¼˜åŠ¿**ï¼š
- å‚æ•°é‡å°‘ï¼Œè®¡ç®—æ•ˆç‡é«˜
- é›†æˆSEæ³¨æ„åŠ›æœºåˆ¶
- é€‚åˆç§»åŠ¨ç«¯å’ŒåµŒå…¥å¼éƒ¨ç½²

#### 3. `license_plate_dataset.py` - æ•°æ®å¤„ç†æ¨¡å—
**åŠŸèƒ½**ï¼šæ•°æ®é›†åŠ è½½å’Œè¯æ±‡è¡¨ç®¡ç†
```python
# ä¸»è¦ç±»
- LicensePlateVocab: è¯æ±‡è¡¨ç®¡ç†ç±»
  - æ”¯æŒ67ä¸ªå­—ç¬¦ï¼ˆæ•°å­—+å­—æ¯+ä¸­æ–‡çœä»½ï¼‰
  - æ–‡æœ¬åºåˆ—åŒ–å’Œååºåˆ—åŒ–
  - ç‰¹æ®Šæ ‡è®°å¤„ç†ï¼ˆPAD, EOS, BOSï¼‰
- LicensePlateDataset: æ•°æ®é›†ç±»
  - å›¾åƒåŠ è½½å’Œé¢„å¤„ç†
  - æ ‡ç­¾è§£æå’Œç¼–ç 
  - æ•°æ®å¢å¼ºæ”¯æŒ
```
**æ•°æ®æ ¼å¼**ï¼š
- å›¾åƒï¼š224x224 RGBæ ¼å¼
- æ ‡ç­¾ï¼šä»æ–‡ä»¶åè‡ªåŠ¨è§£æè½¦ç‰Œå·
- åºåˆ—ï¼šæœ€å¤§é•¿åº¦16å­—ç¬¦

### ğŸš€ è®­ç»ƒå’Œè¯„ä¼°æ–‡ä»¶

#### 4. `train.py` - æ¨¡å‹è®­ç»ƒè„šæœ¬
**åŠŸèƒ½**ï¼šå®Œæ•´çš„æ¨¡å‹è®­ç»ƒæµç¨‹
```python
# è®­ç»ƒç‰¹æ€§
- æ”¯æŒæ•°æ®å¢å¼ºå’Œæ­£åˆ™åŒ–
- TensorBoardæ—¥å¿—è®°å½•
- å­¦ä¹ ç‡è°ƒåº¦å’Œæ—©åœæœºåˆ¶
- æ¨¡å‹æ£€æŸ¥ç‚¹ä¿å­˜
- å¤šGPUè®­ç»ƒæ”¯æŒ
```
**è®­ç»ƒé…ç½®**ï¼š
- æ‰¹æ¬¡å¤§å°ï¼š64
- å­¦ä¹ ç‡ï¼š0.0001
- è®­ç»ƒè½®æ•°ï¼š200
- ä¼˜åŒ–å™¨ï¼šAdam

#### 5. `val.py` - æ¨¡å‹éªŒè¯è„šæœ¬
**åŠŸèƒ½**ï¼šæ¨¡å‹æ€§èƒ½è¯„ä¼°å’Œæ¨ç†æµ‹è¯•
```python
# è¯„ä¼°åŠŸèƒ½
- generate_license_plate(): è‡ªå›å½’ç”Ÿæˆè½¦ç‰Œåºåˆ—
- generate_license_plate_once(): ä¸€æ¬¡æ€§ç”Ÿæˆï¼ˆå¹¶è¡Œè§£ç ï¼‰
- å‡†ç¡®ç‡è®¡ç®—å’Œç»Ÿè®¡
- å¯è§†åŒ–ç»“æœå±•ç¤º
```
**è¯„ä¼°æŒ‡æ ‡**ï¼š
- å­—ç¬¦çº§å‡†ç¡®ç‡
- åºåˆ—çº§å‡†ç¡®ç‡
- æ¨ç†æ—¶é—´ç»Ÿè®¡

### ğŸ”„ æ¨¡å‹éƒ¨ç½²æ–‡ä»¶

#### 6. `onnx_export.py` - ONNXæ¨¡å‹å¯¼å‡º
**åŠŸèƒ½**ï¼šå°†PyTorchæ¨¡å‹è½¬æ¢ä¸ºONNXæ ¼å¼
```python
# å¯¼å‡ºæ¨¡å—
- å›¾åƒç¼–ç å™¨å¯¼å‡ºï¼šimage_encoder.onnx
- æ–‡æœ¬è§£ç å™¨å¯¼å‡ºï¼štext_decoder.onnx
- å®Œæ•´æ¨¡å‹å¯¼å‡ºï¼šcomplete_model.onnx
```
**éƒ¨ç½²ä¼˜åŠ¿**ï¼š
- è·¨å¹³å°å…¼å®¹æ€§
- æ¨ç†å¼•æ“ä¼˜åŒ–
- ç§»åŠ¨ç«¯éƒ¨ç½²æ”¯æŒ

#### 7. `onnx_inference.py` - ONNXæ¨ç†è„šæœ¬
**åŠŸèƒ½**ï¼šä½¿ç”¨ONNX Runtimeè¿›è¡Œæ¨¡å‹æ¨ç†
```python
# æ¨ç†æµç¨‹
- å›¾åƒé¢„å¤„ç†å’Œç¼–ç 
- è‡ªå›å½’æ–‡æœ¬è§£ç 
- ç»“æœåå¤„ç†å’Œè¾“å‡º
```
**æ€§èƒ½ç‰¹ç‚¹**ï¼š
- CPU/GPUæ¨ç†æ”¯æŒ
- æ‰¹å¤„ç†ä¼˜åŒ–
- å†…å­˜æ•ˆç‡é«˜

### ğŸ“Š æ¨¡å‹å’Œæ•°æ®æ–‡ä»¶

#### 8. `last_model.pth` - é¢„è®­ç»ƒæ¨¡å‹æƒé‡

### ğŸ”§ æŠ€æœ¯æ¶æ„æ€»ç»“

```
æ•°æ®æµå‘ï¼š
è¾“å…¥å›¾åƒ â†’ MobileNetV3ç‰¹å¾æå– â†’ Transformerç¼–ç å™¨ â†’ 
ç‰¹å¾è¡¨ç¤º â†’ Transformerè§£ç å™¨ â†’ å­—ç¬¦åºåˆ—è¾“å‡º

æ–‡ä»¶ä¾èµ–å…³ç³»ï¼š
license_plate_model.py (æ ¸å¿ƒ)
â”œâ”€â”€ mobilenetv3.py (éª¨å¹²ç½‘ç»œ)
â”œâ”€â”€ license_plate_dataset.py (æ•°æ®å¤„ç†)
â”œâ”€â”€ train.py (è®­ç»ƒ)
â”œâ”€â”€ val.py (éªŒè¯)

```

è¿™ä¸ªChinese LPR Transformerå®ç°æä¾›äº†ä»æ•°æ®å¤„ç†ã€æ¨¡å‹è®­ç»ƒåˆ°éƒ¨ç½²æ¨ç†çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸€ä¸ªé«˜è´¨é‡çš„ç«¯åˆ°ç«¯è½¦ç‰Œè¯†åˆ«ç³»ç»Ÿã€‚

### ğŸ¯ ç®—æ³•æ€§èƒ½å¯¹æ¯”

| ç®—æ³• | å‡†ç¡®ç‡ | é€Ÿåº¦ | å†…å­˜å ç”¨ | éƒ¨ç½²éš¾åº¦ | é€‚ç”¨åœºæ™¯ |
|------|--------|------|----------|----------|----------|
| YOLO+LPRNet | 95%+ | å¿« | ä¸­ç­‰ | ä¸­ç­‰ | ç”Ÿäº§ç¯å¢ƒï¼ˆæ¨èï¼‰ |
| HyperLPR | 90%+ | ä¸­ç­‰ | ä½ | ç®€å• | èµ„æºå—é™ç¯å¢ƒ |
| Chinese LPR Transformer | 93%+ | ä¸­ç­‰ | é«˜ | å¤æ‚ | ç ”ç©¶éªŒè¯ |

### ğŸ”„ ç®—æ³•åˆ‡æ¢

ç”¨æˆ·å¯åœ¨è¯†åˆ«ç•Œé¢å³ä¸‹è§’çš„"è¯†åˆ«ç®—æ³•é€‰æ‹©"ä¸‹æ‹‰æ¡†ä¸­å®æ—¶åˆ‡æ¢ç®—æ³•ï¼š
- é»˜è®¤é€‰æ‹©ï¼šYOLO+LPRNetï¼ˆæ¨èï¼‰
- è¿è¡Œæ—¶åˆ‡æ¢ï¼šæ— éœ€é‡å¯ç¨‹åº
- ç»Ÿä¸€æ¥å£ï¼šæ‰€æœ‰ç®—æ³•è¿”å›ç›¸åŒæ ¼å¼çš„è¯†åˆ«ç»“æœ

## ğŸ”§ è½¦ç‰ŒçŸ«æ­£æŠ€æœ¯ä¼˜åŒ–

ä¸ºäº†è¿›ä¸€æ­¥æå‡ç³»ç»Ÿå¯¹å€¾æ–œã€å˜å½¢è½¦ç‰Œçš„è¯†åˆ«èƒ½åŠ›ï¼Œç³»ç»Ÿé›†æˆäº†å…ˆè¿›çš„è½¦ç‰ŒçŸ«æ­£æŠ€æœ¯ï¼š

### ğŸ“ çŸ«æ­£ç®—æ³•åŸç†

#### 1. é€è§†å˜æ¢çŸ«æ­£
**æŠ€æœ¯åŸç†**ï¼š
- åŸºäºå››ç‚¹é€è§†å˜æ¢ï¼Œå°†å€¾æ–œçš„è½¦ç‰ŒçŸ«æ­£ä¸ºæ ‡å‡†çŸ©å½¢
- ä½¿ç”¨OpenCVçš„`getPerspectiveTransform`å’Œ`warpPerspective`å‡½æ•°
- è‡ªåŠ¨æ£€æµ‹è½¦ç‰Œå››ä¸ªè§’ç‚¹ï¼Œè®¡ç®—å˜æ¢çŸ©é˜µ

**é€‚ç”¨åœºæ™¯**ï¼š
- æ‹æ‘„è§’åº¦å€¾æ–œçš„è½¦ç‰Œ
- é€è§†å˜å½¢ä¸¥é‡çš„è½¦ç‰Œå›¾åƒ
- éœ€è¦å‡ ä½•æ ¡æ­£çš„åœºæ™¯

#### 2. ä»¿å°„å˜æ¢çŸ«æ­£
**æŠ€æœ¯åŸç†**ï¼š
- åŸºäºä¸‰ç‚¹ä»¿å°„å˜æ¢ï¼Œä¿æŒå¹³è¡Œçº¿çš„å¹³è¡Œæ€§
- é€‚ç”¨äºè½»å¾®çš„æ—‹è½¬å’Œç¼©æ”¾å˜å½¢
- è®¡ç®—å¤æ‚åº¦ä½ï¼Œå¤„ç†é€Ÿåº¦å¿«

**é€‚ç”¨åœºæ™¯**ï¼š
- è½»å¾®æ—‹è½¬çš„è½¦ç‰Œ
- æ¯”ä¾‹å¤±è°ƒçš„è½¦ç‰Œå›¾åƒ
- å®æ—¶å¤„ç†åœºæ™¯

#### 3. è§’åº¦æ£€æµ‹ä¸æ—‹è½¬çŸ«æ­£
**æŠ€æœ¯åŸç†**ï¼š
- ä½¿ç”¨éœå¤«å˜æ¢æ£€æµ‹è½¦ç‰Œè¾¹ç¼˜ç›´çº¿
- è®¡ç®—è½¦ç‰Œå€¾æ–œè§’åº¦
- åŸºäºæ—‹è½¬çŸ©é˜µè¿›è¡Œè§’åº¦çŸ«æ­£

**æ ¸å¿ƒç®—æ³•**ï¼š
```python
# è§’åº¦æ£€æµ‹
lines = cv2.HoughLinesP(edges, 1, np.pi/180, threshold=50)
angles = [math.atan2(y2-y1, x2-x1) for line in lines for x1,y1,x2,y2 in line]
median_angle = np.median(angles)

# æ—‹è½¬çŸ«æ­£
rotation_matrix = cv2.getRotationMatrix2D(center, angle_degrees, 1.0)
corrected_image = cv2.warpAffine(image, rotation_matrix, (width, height))
```

### ğŸ¯ çŸ«æ­£æ•ˆæœè¯„ä¼°

#### æ€§èƒ½æŒ‡æ ‡
| çŸ«æ­£ç±»å‹ | å¤„ç†æ—¶é—´ | é€‚ç”¨è§’åº¦èŒƒå›´ | ç²¾åº¦æå‡ | å†…å­˜å ç”¨ |
|----------|----------|--------------|----------|----------|
| é€è§†å˜æ¢ | 15-25ms | Â±45Â° | 15-20% | ä¸­ç­‰ |
| ä»¿å°„å˜æ¢ | 8-15ms | Â±30Â° | 10-15% | ä½ |
| è§’åº¦çŸ«æ­£ | 5-12ms | Â±15Â° | 8-12% | ä½ |

#### è´¨é‡è¯„ä¼°æœºåˆ¶
- **è¾¹ç¼˜æ¸…æ™°åº¦**ï¼šè®¡ç®—çŸ«æ­£åå›¾åƒçš„è¾¹ç¼˜å“åº”å¼ºåº¦
- **å‡ ä½•è§„æ•´åº¦**ï¼šè¯„ä¼°è½¦ç‰ŒçŸ©å½¢çš„è§„æ•´ç¨‹åº¦
- **å­—ç¬¦åˆ†ç¦»åº¦**ï¼šåˆ†æå­—ç¬¦é—´çš„åˆ†ç¦»æ¸…æ™°åº¦
- **å¯¹æ¯”åº¦å¢å¼º**ï¼šæµ‹é‡çŸ«æ­£å‰åçš„å¯¹æ¯”åº¦æå‡

### ğŸ”„ é›†æˆæ–¹æ¡ˆ

#### é¢„å¤„ç†æµç¨‹
```
åŸå§‹å›¾åƒ â†’ è½¦ç‰Œæ£€æµ‹ â†’ è§’åº¦æ£€æµ‹ â†’ çŸ«æ­£ç®—æ³•é€‰æ‹© â†’ é€è§†/ä»¿å°„/æ—‹è½¬çŸ«æ­£ â†’ è´¨é‡è¯„ä¼° â†’ å­—ç¬¦è¯†åˆ«
```

#### è‡ªé€‚åº”çŸ«æ­£ç­–ç•¥
1. **è§’åº¦é˜ˆå€¼åˆ¤æ–­**ï¼š
   - è§’åº¦ < 5Â°ï¼šæ— éœ€çŸ«æ­£
   - 5Â° â‰¤ è§’åº¦ < 15Â°ï¼šè§’åº¦çŸ«æ­£
   - 15Â° â‰¤ è§’åº¦ < 30Â°ï¼šä»¿å°„å˜æ¢
   - è§’åº¦ â‰¥ 30Â°ï¼šé€è§†å˜æ¢

2. **å¤šçº§çŸ«æ­£**ï¼š
   - ç¬¬ä¸€çº§ï¼šå¿«é€Ÿè§’åº¦çŸ«æ­£
   - ç¬¬äºŒçº§ï¼šç²¾ç»†å‡ ä½•çŸ«æ­£
   - ç¬¬ä¸‰çº§ï¼šè´¨é‡éªŒè¯ä¸ä¼˜åŒ–

#### å‚æ•°é…ç½®
```python
# çŸ«æ­£å‚æ•°é…ç½®
CORRECTION_CONFIG = {
    'angle_threshold': 5.0,          # æœ€å°çŸ«æ­£è§’åº¦é˜ˆå€¼
    'interpolation': cv2.INTER_CUBIC, # æ’å€¼æ–¹æ³•
    'border_mode': cv2.BORDER_REPLICATE, # è¾¹ç•Œå¤„ç†
    'quality_threshold': 0.7,        # è´¨é‡è¯„ä¼°é˜ˆå€¼
    'max_iterations': 3              # æœ€å¤§è¿­ä»£æ¬¡æ•°
}
```

### ğŸ“ˆ é¢„æœŸæ•ˆæœ

#### è¯†åˆ«å‡†ç¡®ç‡æå‡
- **å€¾æ–œè½¦ç‰Œ**ï¼šè¯†åˆ«ç‡ä»75%æå‡è‡³90%+
- **å˜å½¢è½¦ç‰Œ**ï¼šè¯†åˆ«ç‡ä»60%æå‡è‡³80%+
- **å¤æ‚åœºæ™¯**ï¼šæ•´ä½“è¯†åˆ«ç‡æå‡15-20%

#### é²æ£’æ€§å¢å¼º
- æ”¯æŒæ›´å¤§è§’åº¦èŒƒå›´çš„è½¦ç‰Œè¯†åˆ«
- é€‚åº”æ›´å¤šå¤æ‚çš„æ‹æ‘„ç¯å¢ƒ
- å‡å°‘å› å‡ ä½•å˜å½¢å¯¼è‡´çš„è¯†åˆ«å¤±è´¥

#### å®æ—¶æ€§ä¿è¯
- å•å¼ å›¾ç‰‡çŸ«æ­£æ—¶é—´ < 30ms
- æ”¯æŒå®æ—¶è§†é¢‘æµå¤„ç†
- GPUåŠ é€Ÿä¼˜åŒ–å¯ç”¨

### æœ€æ–°ä¼˜åŒ–åŠŸèƒ½

- **æ™ºèƒ½è½¦ç‰Œå¢å¼º**ï¼šé›†æˆå¤šç§å›¾åƒå¢å¼ºç®—æ³•ï¼Œæå‡ä½è´¨é‡å›¾åƒçš„è¯†åˆ«æ•ˆæœ
  - è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡åŒ–
  - é”åŒ–æ»¤æ³¢
  - å»å™ªå¤„ç†
  - å¯¹æ¯”åº¦å¢å¼º
- **å®æ—¶å¯¹æ¯”æ˜¾ç¤º**ï¼šå¢å¼ºå‰åè½¦ç‰Œæ•ˆæœå®æ—¶å¯¹æ¯”ï¼Œç›´è§‚å±•ç¤ºå¤„ç†æ•ˆæœ
- **è‡ªé€‚åº”å­—ä½“ç³»ç»Ÿ**ï¼šå¤šç§æ–¹å¼æŸ¥æ‰¾å¯ç”¨çš„ä¸­æ–‡å­—ä½“ï¼Œç¡®ä¿åœ¨ä¸åŒç³»ç»Ÿä¸Šæ­£å¸¸æ˜¾ç¤º
- **ä¸­æ–‡è·¯å¾„æ”¯æŒ**ï¼šå®Œç¾æ”¯æŒåŒ…å«ä¸­æ–‡å­—ç¬¦çš„æ–‡ä»¶è·¯å¾„
- **ç»“æœå¯è§†åŒ–ä¼˜åŒ–**ï¼šè¯†åˆ«ç»“æœåœ¨å›¾åƒä¸Šæ¸…æ™°æ˜¾ç¤ºï¼Œå»é™¤å­—ä½“é—®é¢˜å¯¼è‡´çš„ä¹±ç 
- **å¤šå¹³å°å…¼å®¹**ï¼šæ”¯æŒWindowsã€Linuxå’ŒmacOSç­‰å¤šç§æ“ä½œç³»ç»Ÿ

## ç³»ç»Ÿæ¶æ„

ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š

1. **ç”¨æˆ·ç•Œé¢æ¨¡å—**ï¼šåŸºäºPyQt5å®ç°çš„å›¾å½¢ç”¨æˆ·ç•Œé¢
2. **è½¦ç‰Œè¯†åˆ«æ¨¡å—**ï¼š
   - YOLOè½¦ç‰Œå®šä½ + LPRNetå­—ç¬¦è¯†åˆ«
   - HyperLPRè½¦ç‰Œè¯†åˆ«ï¼ˆå…¼å®¹åŸæœ‰æ–¹æ¡ˆï¼‰
3. **æ•°æ®ç®¡ç†æ¨¡å—**ï¼šè´Ÿè´£è½¦è¾†ä¿¡æ¯å’Œè®°å½•çš„å­˜å‚¨ä¸æŸ¥è¯¢
4. **è´¹ç”¨è®¡ç®—æ¨¡å—**ï¼šæ ¹æ®ä¸åŒè§„åˆ™è®¡ç®—åœè½¦è´¹ç”¨

## å®‰è£…ä¸ä¾èµ–

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.7+ (æ¨è 3.8+)
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11, Linux, macOS
- **å†…å­˜**: è‡³å°‘ 4GB RAM (æ¨è 8GB+)
- **å­˜å‚¨**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´

### ä¸»è¦ä¾èµ–

| ä¾èµ–åº“ | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” | ç®—æ³•æ”¯æŒ |
|--------|----------|------|----------|
| PyQt5 | 5.15.2+ | å›¾å½¢ç”¨æˆ·ç•Œé¢ | å…¨éƒ¨ç®—æ³• |
| OpenCV | 4.6.0+ | å›¾åƒå¤„ç† | å…¨éƒ¨ç®—æ³• |
| NumPy | 1.22.0+ | æ•°å€¼è®¡ç®— | å…¨éƒ¨ç®—æ³• |
| Pandas | 2.0.1+ | æ•°æ®å¤„ç† | å…¨éƒ¨ç®—æ³• |
| Pillow | 9.5.0+ | å›¾åƒå¤„ç† | å…¨éƒ¨ç®—æ³• |
| PyTorch | 1.8.0+ | æ·±åº¦å­¦ä¹ æ¡†æ¶ | YOLO+LPRNet, Chinese LPR Transformer |
| torchvision | 0.9.0+ | è®¡ç®—æœºè§†è§‰åº“ | YOLO+LPRNet, Chinese LPR Transformer |
| Ultralytics | 8.0.0+ | YOLOæ¨¡å‹æ¡†æ¶ | YOLO+LPRNet, Chinese LPR Transformer |
| HyperLPR3 | latest | ä¼ ç»Ÿè½¦ç‰Œè¯†åˆ« | HyperLPR |
| QtFusion | latest | æ¨¡å‹ç®¡ç†æ¡†æ¶ | Chinese LPR Transformer |


### å®‰è£…æ­¥éª¤

1. å…‹éš†æœ¬ä»“åº“
2. å®‰è£…ä¾èµ–åº“ï¼š
   ```bash
   pip install -r requirements.txt
   ```
3. ä¸‹è½½é¢„è®­ç»ƒæ¨¡å‹æƒé‡æ–‡ä»¶å¹¶æ”¾ç½®åœ¨`weights`ç›®å½•ä¸‹ï¼š
   - `best-yolov8n.pt`ï¼šYOLOè½¦ç‰Œæ£€æµ‹æ¨¡å‹
   - `best-yolov5nu.pt`ï¼šå¯é€‰çš„å¤‡ç”¨YOLOæ¨¡å‹
   - `Final_LPRNet_model.pth`ï¼šLPRNetè½¦ç‰Œè¯†åˆ«æ¨¡å‹

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### ç³»ç»Ÿå¯åŠ¨

1. **å¯åŠ¨ç™»å½•ç•Œé¢**ï¼š
```bash
python login_main.py
```

2. **ç›´æ¥å¯åŠ¨ä¸»ç¨‹åº**ï¼ˆè·³è¿‡ç™»å½•ï¼‰ï¼š
```bash
python main.py
```

### ğŸ® ç³»ç»Ÿæ“ä½œæŒ‡å—

#### 1. ç”¨æˆ·ç™»å½•
- é¦–æ¬¡ä½¿ç”¨éœ€è¦æ³¨å†Œç”¨æˆ·è´¦å·
- è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ç™»å½•ç³»ç»Ÿ
- æ”¯æŒè®°ä½å¯†ç åŠŸèƒ½

#### 2. è½¦è¾†è¯†åˆ«æ“ä½œ
- **æ‘„åƒå¤´è¯†åˆ«**ï¼šç‚¹å‡»"æ‰“å¼€æ‘„åƒå¤´"è¿›è¡Œå®æ—¶è¯†åˆ«
- **å›¾ç‰‡è¯†åˆ«**ï¼šç‚¹å‡»"é€‰æ‹©å›¾ç‰‡"ä¸Šä¼ è½¦ç‰Œå›¾ç‰‡è¿›è¡Œè¯†åˆ«
- **è§†é¢‘è¯†åˆ«**ï¼šæ”¯æŒè§†é¢‘æ–‡ä»¶çš„æ‰¹é‡è½¦ç‰Œè¯†åˆ«

#### 3. è½¦è¾†ä¿¡æ¯ç®¡ç†
- **æ–°å¢è½¦è¾†**ï¼šåœ¨"ä¿¡æ¯å½•å…¥"é¡µé¢æ·»åŠ æ–°çš„æ³¨å†Œè½¦è¾†
- **æŸ¥çœ‹è½¦è¾†**ï¼šåœ¨"æ•°æ®ç®¡ç†"é¡µé¢æŸ¥çœ‹æ‰€æœ‰æ³¨å†Œè½¦è¾†ä¿¡æ¯
- **ä¿®æ”¹åˆ é™¤**ï¼šæ”¯æŒè½¦è¾†ä¿¡æ¯çš„ä¿®æ”¹å’Œåˆ é™¤æ“ä½œ

#### 4. åœè½¦è®°å½•ç®¡ç†
- **æŸ¥çœ‹è®°å½•**ï¼šåœ¨"è®°å½•ç®¡ç†"é¡µé¢æŸ¥çœ‹æ‰€æœ‰åœè½¦è®°å½•
- **ç»Ÿè®¡åˆ†æ**ï¼šæŸ¥çœ‹åœè½¦æ—¶é•¿ã€è´¹ç”¨ç»Ÿè®¡ç­‰ä¿¡æ¯
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒå°†è®°å½•å¯¼å‡ºä¸ºCSVæ–‡ä»¶

### ğŸ§ª æµ‹è¯•åŠŸèƒ½



3. **æ¨¡å‹è®­ç»ƒ**ï¼š
```bash
python run_train_model.py
```

## ğŸ“ é¡¹ç›®ç»“æ„

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

| æ–‡ä»¶å | åŠŸèƒ½æè¿° |
|--------|----------|
| `main.py` | ç¨‹åºä¸»å…¥å£ï¼ŒåŒ…å«ä¸»çª—å£ç±»å’Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ |
| `login_main.py` | ç™»å½•ç•Œé¢ä¸»ç¨‹åºï¼Œç”¨æˆ·è®¤è¯å…¥å£ |
| `login_functions.py` | ç™»å½•ç›¸å…³åŠŸèƒ½å®ç°ï¼Œç”¨æˆ·ç®¡ç† |
| `detect_tools.py` | è½¦ç‰Œæ£€æµ‹å·¥å…·å‡½æ•°ï¼Œæ•°æ®å¤„ç†æ ¸å¿ƒ |
| `YOLOv8v5PlateModel.py` | YOLOè½¦ç‰Œæ£€æµ‹æ¨¡å‹å®šä¹‰ |
| `LPRNet.py` | è½¦ç‰Œå­—ç¬¦è¯†åˆ«ç½‘ç»œå®šä¹‰ |
| `PlateColorModel.py` | è½¦ç‰Œé¢œè‰²è¯†åˆ«æ¨¡å‹ |
| `PlateEnhancement.py` | è½¦ç‰Œå›¾åƒå¢å¼ºå¤„ç†æ¨¡å— |
| `Config.py` | ç³»ç»Ÿé…ç½®å‚æ•°ï¼ˆæ•°æ®è·¯å¾„ã€è½¦ä½æ•°ç­‰ï¼‰ |
| `yolo_lpr_test.py` | YOLO+LPRNetè½¦ç‰Œè¯†åˆ«æµ‹è¯•è„šæœ¬ |
| `run_train_model.py` | æ¨¡å‹è®­ç»ƒè„šæœ¬ |

### ç›®å½•ç»“æ„è¯¦è§£

```
LisencePlateRecognition_v2_promax/
â”œâ”€â”€ UIProgram/              # ç”¨æˆ·ç•Œé¢æ¨¡å—
â”‚   â”œâ”€â”€ MainPro.py         # ä¸»ç•Œé¢å®šä¹‰
â”‚   â”œâ”€â”€ RecWidget.py       # è¯†åˆ«ç•Œé¢ç»„ä»¶
â”‚   â”œâ”€â”€ InfoEntry.py       # ä¿¡æ¯å½•å…¥ç•Œé¢
â”‚   â”œâ”€â”€ DataManageWidget.py # æ•°æ®ç®¡ç†ç•Œé¢
â”‚   â”œâ”€â”€ recRecordWidget.py # è®°å½•ç®¡ç†ç•Œé¢
â”‚   â”œâ”€â”€ AboutWidget.py     # å…³äºç•Œé¢
â”‚   â””â”€â”€ ui_imgs/           # ç•Œé¢å›¾ç‰‡èµ„æº
â”œâ”€â”€ weights/               # æ¨¡å‹æƒé‡æ–‡ä»¶
â”‚   â”œâ”€â”€ best-yolov8n.pt   # YOLOæ£€æµ‹æ¨¡å‹
â”‚   â”œâ”€â”€ best-yolov5nu.pt  # å¤‡ç”¨YOLOæ¨¡å‹
â”‚   â””â”€â”€ Final_LPRNet_model.pth # LPRNetè¯†åˆ«æ¨¡å‹
â”œâ”€â”€ data/                  # æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ register_info.csv  # æ³¨å†Œè½¦è¾†ä¿¡æ¯
â”‚   â”œâ”€â”€ clock_in_records.csv # åœè½¦è®°å½•
â”‚   â”œâ”€â”€ users.db          # ç”¨æˆ·æ•°æ®åº“
â”‚   â””â”€â”€ imgs/             # è½¦è¾†å›¾ç‰‡å­˜å‚¨
â”œâ”€â”€ images/               # æµ‹è¯•å›¾ç‰‡
â”œâ”€â”€ Font/                 # å­—ä½“æ–‡ä»¶
â”œâ”€â”€ datasets/             # è®­ç»ƒæ•°æ®é›†
â”œâ”€â”€ runs/                 # è®­ç»ƒç»“æœ
â””â”€â”€ ultralytics/          # YOLOæ¡†æ¶
```

### æ•°æ®æ–‡ä»¶è¯´æ˜

- **register_info.csv**: å­˜å‚¨æ³¨å†Œè½¦è¾†ä¿¡æ¯ï¼ˆè½¦ç‰Œå·ã€è½¦ä¸»ã€æœ‰æ•ˆæœŸç­‰ï¼‰
- **clock_in_records.csv**: å­˜å‚¨åœè½¦è®°å½•ï¼ˆè¿›å‡ºæ—¶é—´ã€åœè½¦æ—¶é•¿ã€è´¹ç”¨ç­‰ï¼‰
- **users.db**: SQLiteæ•°æ®åº“ï¼Œå­˜å‚¨ç”¨æˆ·ç™»å½•ä¿¡æ¯
- **data/imgs/**: å­˜å‚¨è½¦è¾†ç…§ç‰‡ï¼Œä»¥è½¦ç‰Œå·å‘½å

## æŠ€æœ¯ç»†èŠ‚

### è½¦ç‰Œè¯†åˆ«æµç¨‹

1. **è½¦ç‰Œå®šä½**ï¼š
   - ä½¿ç”¨YOLOv8æˆ–YOLOv5æ¨¡å‹æ£€æµ‹å›¾åƒä¸­çš„è½¦ç‰Œä½ç½®
   - è¾“å‡ºè½¦ç‰Œçš„è¾¹ç•Œæ¡†åæ ‡å’Œç½®ä¿¡åº¦

2. **è½¦ç‰Œé¢„å¤„ç†ä¸å¢å¼º**ï¼š
   - è£å‰ªå‡ºè½¦ç‰ŒåŒºåŸŸ
   - æ™ºèƒ½å›¾åƒå¢å¼ºå¤„ç†ï¼š
     - è‡ªé€‚åº”ç›´æ–¹å›¾å‡è¡¡åŒ–æå‡å¯¹æ¯”åº¦
     - é”åŒ–æ»¤æ³¢å¢å¼ºè¾¹ç¼˜ç»†èŠ‚
     - é«˜æ–¯å»å™ªå‡å°‘å›¾åƒå™ªå£°
     - ä¼½é©¬æ ¡æ­£ä¼˜åŒ–äº®åº¦
   - è°ƒæ•´å¤§å°ä¸º94Ã—24åƒç´ 
   - å½’ä¸€åŒ–å¤„ç†

3. **è½¦ç‰Œå­—ç¬¦è¯†åˆ«**ï¼š
   - ä½¿ç”¨LPRNetæ·±åº¦å­¦ä¹ ç½‘ç»œè¯†åˆ«è½¦ç‰Œå­—ç¬¦
   - è§£ç ç½‘ç»œè¾“å‡ºå¾—åˆ°å®Œæ•´è½¦ç‰Œå·
   - æ”¯æŒå„ç§è½¦ç‰Œç±»å‹ï¼ˆè“ç‰Œã€ç»¿ç‰Œç­‰ï¼‰

4. **ç»“æœå±•ç¤º**ï¼š
   - å®æ—¶æ˜¾ç¤ºå¢å¼ºå‰åå¯¹æ¯”æ•ˆæœ
   - åœ¨åŸå›¾ä¸Šæ ‡æ³¨è¯†åˆ«ç»“æœ
   - æ˜¾ç¤ºç½®ä¿¡åº¦å’Œå¤„ç†æ—¶é—´

### å›¾åƒå¢å¼ºæŠ€æœ¯

ç³»ç»Ÿé›†æˆäº†å¤šç§å›¾åƒå¢å¼ºç®—æ³•ï¼Œè‡ªåŠ¨æå‡è½¦ç‰Œå›¾åƒè´¨é‡ï¼š

1. **è‡ªé€‚åº”å¤„ç†**ï¼šæ ¹æ®å›¾åƒç‰¹å¾è‡ªåŠ¨é€‰æ‹©æœ€ä½³å¢å¼ºç­–ç•¥
2. **å¤šç®—æ³•èåˆ**ï¼šç»“åˆç›´æ–¹å›¾å‡è¡¡åŒ–ã€é”åŒ–ã€å»å™ªç­‰å¤šç§æŠ€æœ¯
3. **å®æ—¶å¯¹æ¯”**ï¼šå¢å¼ºå‰åæ•ˆæœå®æ—¶å¯¹æ¯”æ˜¾ç¤º
4. **è´¨é‡è¯„ä¼°**ï¼šè‡ªåŠ¨è¯„ä¼°å¢å¼ºæ•ˆæœï¼Œç¡®ä¿æœ€ä½³è¯†åˆ«ç»“æœ

### ä¸­æ–‡æ˜¾ç¤ºè§£å†³æ–¹æ¡ˆ

1. **æ™ºèƒ½å­—ä½“æ£€æµ‹**ï¼šè‡ªåŠ¨æŸ¥æ‰¾ç³»ç»Ÿå¯ç”¨ä¸­æ–‡å­—ä½“ï¼Œæ”¯æŒå¤šç§å­—ä½“æ ¼å¼
2. **PILç»˜åˆ¶å¼•æ“**ï¼šä½¿ç”¨PILåº“æ›¿ä»£OpenCVç»˜åˆ¶ä¸­æ–‡ï¼Œé¿å…ä¹±ç é—®é¢˜
3. **ç¼–ç å…¼å®¹**ï¼šå¤„ç†å„ç§ç¼–ç æ ¼å¼ï¼Œç¡®ä¿ä¸­æ–‡è·¯å¾„å’Œæ–‡æœ¬æ­£å¸¸æ˜¾ç¤º
4. **ä¼˜é›…é™çº§**ï¼šæä¾›å¤šå±‚å¤‡é€‰æ–¹æ¡ˆï¼Œç¡®ä¿åœ¨å­—ä½“åŠ è½½å¤±è´¥æ—¶ä»èƒ½æ­£å¸¸è¿è¡Œ
5. **ç•Œé¢ä¼˜åŒ–**ï¼šå»é™¤å¯èƒ½å¯¼è‡´æ˜¾ç¤ºé—®é¢˜çš„æ–‡å­—æ ‡ç­¾ï¼Œä¿æŒç•Œé¢ç®€æ´

## ğŸš€ ç³»ç»Ÿä¼˜åŠ¿

### ğŸ¯ é«˜ç²¾åº¦è¯†åˆ«
- **åŒé‡è¯†åˆ«æ–¹æ¡ˆ**: YOLO+LPRNetç»„åˆï¼Œè¯†åˆ«å‡†ç¡®ç‡è¾¾95%+
- **æ™ºèƒ½å›¾åƒå¢å¼º**: è‡ªåŠ¨ä¼˜åŒ–ä½è´¨é‡å›¾åƒï¼Œæå‡è¯†åˆ«æ•ˆæœ
- **å¤šåœºæ™¯é€‚åº”**: æ”¯æŒå„ç§å…‰ç…§æ¡ä»¶å’Œè½¦ç‰Œç±»å‹
- **å®æ—¶å¤„ç†**: æ¯«ç§’çº§è¯†åˆ«å“åº”ï¼Œæ»¡è¶³å®æ—¶åº”ç”¨éœ€æ±‚

### ğŸ’¼ å®Œæ•´ä¸šåŠ¡æµç¨‹
- **å…¨æµç¨‹ç®¡ç†**: ä»è½¦è¾†æ³¨å†Œåˆ°åœè½¦è®¡è´¹çš„å®Œæ•´é—­ç¯
- **æ™ºèƒ½è®¡è´¹**: è‡ªåŠ¨åŒºåˆ†æ³¨å†Œè½¦è¾†å’Œå¤–æ¥è½¦è¾†ï¼Œå®ç°å·®å¼‚åŒ–æ”¶è´¹
- **æ•°æ®ç»Ÿè®¡**: æä¾›è¯¦ç»†çš„åœè½¦æ•°æ®åˆ†æå’Œæ”¶å…¥ç»Ÿè®¡
- **æƒé™æ§åˆ¶**: å¤šç”¨æˆ·ç³»ç»Ÿï¼Œæ”¯æŒä¸åŒæƒé™çº§åˆ«ç®¡ç†

### ğŸ¨ ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- **ç°ä»£åŒ–ç•Œé¢**: åŸºäºPyQt5çš„ç¾è§‚ç•Œé¢è®¾è®¡
- **æ“ä½œç®€ä¾¿**: ç›´è§‚çš„æ“ä½œæµç¨‹ï¼Œé™ä½å­¦ä¹ æˆæœ¬
- **ä¸­æ–‡æ”¯æŒ**: å®Œå–„çš„ä¸­æ–‡æ˜¾ç¤ºå’Œè·¯å¾„æ”¯æŒ


### ğŸ”§ æŠ€æœ¯å…ˆè¿›æ€§
- **æ·±åº¦å­¦ä¹ **: åŸºäºæœ€æ–°çš„YOLOå’ŒLPRNetæ¨¡å‹
- **æ¨¡å—åŒ–è®¾è®¡**: æ˜“äºæ‰©å±•å’Œç»´æŠ¤çš„ä»£ç æ¶æ„
- **è·¨å¹³å°**: æ”¯æŒWindowsã€Linuxã€macOSå¤šå¹³å°éƒ¨ç½²
- **é«˜æ€§èƒ½**: ä¼˜åŒ–çš„ç®—æ³•å®ç°ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œ

## âš ï¸ æ³¨æ„äº‹é¡¹

### ç³»ç»Ÿè¦æ±‚
- ç¡®ä¿æ‘„åƒå¤´è®¾å¤‡æ­£å¸¸è¿æ¥ï¼ˆä½¿ç”¨æ‘„åƒå¤´è¯†åˆ«åŠŸèƒ½æ—¶ï¼‰
- å»ºè®®ä½¿ç”¨ç‹¬ç«‹æ˜¾å¡ä»¥è·å¾—æ›´å¥½çš„è¯†åˆ«æ€§èƒ½
- é¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½æ¨¡å‹æƒé‡æ–‡ä»¶

### ä½¿ç”¨å»ºè®®
- å®šæœŸå¤‡ä»½æ•°æ®æ–‡ä»¶ï¼ˆCSVå’Œæ•°æ®åº“æ–‡ä»¶ï¼‰
- ä¿æŒè‰¯å¥½çš„å…‰ç…§æ¡ä»¶ä»¥è·å¾—æœ€ä½³è¯†åˆ«æ•ˆæœ
- å»ºè®®å®šæœŸæ¸…ç†ä¸´æ—¶æ–‡ä»¶å’Œæ—¥å¿—æ–‡ä»¶

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‘„åƒå¤´æ— æ³•æ‰“å¼€**
   - æ£€æŸ¥æ‘„åƒå¤´è®¾å¤‡è¿æ¥
   - ç¡®è®¤æ‘„åƒå¤´æœªè¢«å…¶ä»–ç¨‹åºå ç”¨
   - å°è¯•æ›´æ¢USBç«¯å£

2. **è¯†åˆ«å‡†ç¡®ç‡ä½**
   - æ£€æŸ¥å…‰ç…§æ¡ä»¶æ˜¯å¦å……è¶³
   - ç¡®è®¤è½¦ç‰Œæ˜¯å¦æ¸…æ™°å¯è§
   - å°è¯•è°ƒæ•´æ‘„åƒå¤´è§’åº¦å’Œè·ç¦»

3. **ç¨‹åºå¯åŠ¨å¤±è´¥**
   - æ£€æŸ¥Pythonç¯å¢ƒå’Œä¾èµ–åº“å®‰è£…
   - ç¡®è®¤æ¨¡å‹æƒé‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨
   - æŸ¥çœ‹é”™è¯¯æ—¥å¿—å®šä½é—®é¢˜

4. **æ•°æ®åº“è¿æ¥é”™è¯¯**
   - æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æƒé™
   - ç¡®è®¤æ•°æ®ç›®å½•æ˜¯å¦å­˜åœ¨
   - å°è¯•é‡æ–°åˆ›å»ºæ•°æ®åº“æ–‡ä»¶

## ğŸš€ ç³»ç»Ÿæ”¹è¿›æ–¹æ¡ˆ

### è½¦ç‰ŒçŸ«æ­£æŠ€æœ¯ä¼˜åŒ–

ä¸ºäº†è¿›ä¸€æ­¥æå‡ç³»ç»Ÿå¯¹å€¾æ–œã€å˜å½¢è½¦ç‰Œçš„è¯†åˆ«èƒ½åŠ›ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹è½¦ç‰ŒçŸ«æ­£æŠ€æœ¯æ”¹è¿›ï¼š

#### 5. å®ç°å»ºè®®
##ç±»ä¼¼è¿™æ ·
**æ–‡ä»¶ç»“æ„æ‰©å±•**:
```
PlateRectification.py     # è½¦ç‰ŒçŸ«æ­£ä¸»æ¨¡å—
geometric_transform.py    # å‡ ä½•å˜æ¢å·¥å…·
angle_detection.py        # è§’åº¦æ£€æµ‹ç®—æ³•

**é›†æˆæ–¹æ¡ˆ**:
1. **é¢„å¤„ç†é˜¶æ®µ**: åœ¨è½¦ç‰Œæ£€æµ‹åã€å­—ç¬¦è¯†åˆ«å‰åŠ å…¥çŸ«æ­£æ­¥éª¤
2. **å¤šçº§çŸ«æ­£**: ç»“åˆä¼ ç»Ÿæ–¹æ³•å’Œæ·±åº¦å­¦ä¹ æ–¹æ³•
3. **è´¨é‡è¯„ä¼°**: æ·»åŠ çŸ«æ­£æ•ˆæœè¯„ä¼°æœºåˆ¶
4. **æ€§èƒ½ä¼˜åŒ–**: ä½¿ç”¨GPUåŠ é€Ÿå‡ ä½•å˜æ¢è®¡ç®—

**å‚æ•°é…ç½®**:
- çŸ«æ­£é˜ˆå€¼: è®¾ç½®æœ€å°å€¾æ–œè§’åº¦é˜ˆå€¼
- æ’å€¼æ–¹æ³•: é€‰æ‹©åŒçº¿æ€§æˆ–åŒä¸‰æ¬¡æ’å€¼
- è¾“å‡ºå°ºå¯¸: æ ‡å‡†åŒ–çŸ«æ­£åçš„è½¦ç‰Œå°ºå¯¸

#### 6. é¢„æœŸæ•ˆæœ
- **è¯†åˆ«å‡†ç¡®ç‡æå‡**: å¯¹å€¾æ–œè½¦ç‰Œè¯†åˆ«ç‡æå‡15-20%
- **é²æ£’æ€§å¢å¼º**: é€‚åº”æ›´å¤šå¤æ‚æ‹æ‘„è§’åº¦
- **ç”¨æˆ·ä½“éªŒ**: å‡å°‘å› è§’åº¦é—®é¢˜å¯¼è‡´çš„è¯†åˆ«å¤±è´¥

## è´¡çŒ®ä¸å¼€å‘

æœ¬é¡¹ç›®æ¬¢è¿æäº¤é—®é¢˜å’Œæ”¹è¿›å»ºè®®ã€‚å¦‚éœ€è´¡çŒ®ä»£ç ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š
1. Forkæœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. æ¨é€åˆ°åˆ†æ”¯
5. åˆ›å»ºPull Request

## è®¸å¯è¯

[MIT License](LICENSE)

## è‡´è°¢

- æ„Ÿè°¢Ultralyticsæä¾›çš„YOLOv8æ¨¡å‹æ¡†æ¶
- æ„Ÿè°¢åŸHyperLPRé¡¹ç›®å›¢é˜Ÿæä¾›çš„åˆå§‹è½¦ç‰Œè¯†åˆ«è§£å†³æ–¹æ¡ˆ
- æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…

##  éœ€è¦å®Œæ•´é¡¹ç›®ä»£ç è¯·è”ç³»qqï¼š2122384040





<img width="1206" height="993" alt="edb11e9ef9cdd5af2de783c40b05b67d" src="https://github.com/user-attachments/assets/d1f8d084-b497-4539-8a2d-76d29b819183" />

